<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†ç”»é¢</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; padding: 15px; background: #f0f0f0; border-radius: 8px; }
        input, select { padding: 8px; margin: 5px 0; width: 100%; box-sizing: border-box; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .btn { background: #333; color: white; padding: 10px; text-decoration: none; display: inline-block; border-radius: 5px; }
        .btn-add { background: #28a745; border: none; cursor: pointer; width: 100%; }
        .btn-delete { background: #dc3545; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 3px; }
    </style>
</head>
<body>

    <h2>ğŸ›  ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†ç”»é¢</h2>
    <p><a href="{{ url_for('vote_page') }}">â† æŠ•ç¥¨ç”»é¢ã«æˆ»ã‚‹</a></p>

    <div class="form-group">
        <h3>æ–°è¦ã‚¹ã‚¿ãƒƒãƒ•ç™»éŒ²</h3>
        <form method="POST" action="{{ url_for('admin_page') }}">
            <label>åå‰:</label>
            <input type="text" name="username" required placeholder="ä¾‹ï¼šã‚„ã¾ã ãŸã‚ã†">
            
            <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:</label>
            <input type="text" name="password" required placeholder="åˆæœŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
            
            <label>å½¹è·:</label>
            <select name="role">
                <option value="ãƒ›ãƒ¼ãƒ«">ãƒ›ãƒ¼ãƒ«</option>
                <option value="ã‚­ãƒƒãƒãƒ³">ã‚­ãƒƒãƒãƒ³</option>
                <option value="admin">ç®¡ç†è€…</option>
            </select>
            
            <button type="submit" class="btn btn-add">ç™»éŒ²ã™ã‚‹</button>
        </form>
    </div>

    <h3>ç¾åœ¨ã®ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§</h3>
    <table>
        <thead>
            <tr>
                <th>åå‰</th>
                <th>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</th>
                <th>å½¹è·</th>
                <th>æ“ä½œ</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.password }}</td>
                <td>
                    {% if user.role == 'admin' %}ç®¡ç†è€…{% elif user.role == 'ãƒ›ãƒ¼ãƒ«' %}ãƒ›ãƒ¼ãƒ«{% else %}ã‚­ãƒƒãƒãƒ³{% endif %}
                </td>
                <td>
                    {% if user.id != session['user_id'] %}
                    <form method="POST" action="{{ url_for('delete_user', id=user.id) }}" onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
                        <button type="submit" class="btn-delete">å‰Šé™¤</button>
                    </form>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</body>
</html>